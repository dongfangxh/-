/*1.建立视图：学生1，要求显示学生表中姓名中含“李”字的学生学号、姓名和入学成绩。*/
CREATE VIEW 学生1
AS SELECT 学号,姓名,入学成绩
   FROM 学生表
   WHERE 姓名 LIKE '%李%'

/*2.建立视图：学生2，要求显示男同学的选课信息，具体包含学号、姓名、性别与课程号和成绩。*/
CREATE VIEW 学生2
AS SELECT 学生表.学号,姓名,性别,课程号,成绩
   FROM 学生表 INNER JOIN 成绩表
   ON 学生表.学号=成绩表.学号
   WHERE 性别='男'

/*3.建立视图：学生3，要求显示选修了330109号课程的学生姓名、课程号和成绩。*/
CREATE VIEW 学生3
AS SELECT 姓名,课程号,成绩
   FROM 学生表 INNER JOIN 成绩表
   ON 学生表.学号 = 成绩表.学号
   WHERE 课程号='330109'

/*4.建立视图：学生4，要求显示刘明明同学选修课程的信息，具体包括学号、姓名、课程名与成绩。*/
CREATE VIEW 学生4
AS SELECT 学生表.学号,姓名,课程名,成绩
   FROM 学生表 INNER JOIN 成绩表
   ON 学生表.学号 = 成绩表.学号
   INNER JOIN 课程表
   ON 成绩表.课程号 = 课程表.课程号
   WHERE 姓名='刘明明'

/*5.通过视图1更新“李学”学生的入学成绩为500分。*/
UPDATE 学生1
SET 入学成绩='500'
WHERE 姓名='李学'

/*6.查询入学成绩最高的三位学生信息。*/
SELECT TOP 3 *
FROM 学生表
ORDER BY 入学成绩 DESC
/*7.查询非张、王、李、刘四大姓的学生信息。*/
SELECT *
FROM 学生表
WHERE 姓名 not LIKE '张%' and not 姓名 LIKE '王%' and 姓名 not LIKE '李%' and 姓名 not LIKE '刘%' 

[ ]表示在某一范围的字符
[^ ]表示不在某一范围的字符

SELECT *
FROM 学生表
WHERE 姓名 like '[^张,王,李,刘]%'

/*8.查询学生表中最高入学成绩、最低入学成绩与平均入学成绩。*/
SELECT MAX(入学成绩) AS 最高入学成绩,MIN(入学成绩) AS 最低入学成绩,AVG(入学成绩) AS 平均入学成绩
FROM 学生表

/*9.按性别分组查询男生与女生的平均入学成绩。*/
SELECT 性别, AVG(入学成绩) AS 平均入学成绩
FROM 学生表
GROUP BY 性别
